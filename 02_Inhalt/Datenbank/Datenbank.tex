\chapter{Datenbank Layout}
\label{kap:DatabaseLayout}
Es existieren insgesamt zwei Systeme (Mess- und Robotersystem), von denen jedes über eine lokale Datenbank verfügt. Darüber hinaus exisitert eine externe, über das Internet erreichbare Cloud, in der die gesamten Bewegungsdaten für den Roboter hinterlegt sind (s. Abbildung \ref{fig:dblayout}). Diese sind als Integer-Werte abgelegt und mit dem Faktor 100 multipliziert, sodass diese Daten vom Prinzip unmodifziert sind und ein breites Anwedungsgebiet ermöglichen. Das Konvertieren in die nutzbaren Stellgrößen für das entsprechende System (in diesem Fall das Robotersystem) erfolgt lokal.

\begin{figure}[H]
\centering
\includegraphics[width=1.0\linewidth]{03_Grafiken/DatabaseLayout/dblayout}
\caption[Layout der Datenbanken]{Layout der Datenbanken}
\label{fig:dblayout}
\end{figure}

Der oben dargestellte zylinderförmige Komponente repräsentiert die externe Cloud, welche über das Internet erreichbar ist. Diese beinhaltet die Bewegungsdaten für alle Motoren, welche zuvor durch das Messsystem aufgenommen und extrahiert wurden. Die Struktur (s. seitlicher Bereich) besteht aus mehreren Datenbanken, von denen jede mehrere Tabellen enthält, in denen die Sensorwerte hinterlegt sind. Abbildung \ref{fig:cloudcontent} zeigt exemplarisch den Aufbau der Cloud.

\begin{figure}[H]
\centering
\includegraphics[width=1.0\linewidth]{03_Grafiken/DatabaseLayout/CloudContent}
\caption[Struktur der externen Cloud]{Struktur der externen Cloud}
\label{fig:cloudcontent}
\end{figure}

Die links dargestellte Komponente zeigt den grundsätzlichen Aufbau einer Datenbank mit den darin liegenden Tabellen. Darin enthalten sind die Werte aller Sensoren in extrahierter Form, multipliziert mit dem Faktor 100. Die beiden rechts dargestellten Tabellen zeigen beispielhaft den Kontext der Datenbanken. Dieser ist mit der entsprechenden Bewegungsart definiert (z.B. Vorwärtsgehen, Rückwärtsgehen, etc.). Unterhalb der beiden Tabellen wird der Inhalt einer Tabelle innerhalb einer Datenbank (z.B. Tabelle \textit{s4} in der Datenbank \textit{moveForward}) aufgezeigt. Dabei ist zu beachten, dass die Einträge aus maximal 2 byte bestehen dürfen, da das Protokoll mehr nicht zulässt (s. Kapitel \ref{kap:Protokoll}). Für die Sensorwerte ist dies irrelevant, da diese max. $ \alpha = 90 [deg]$, bzw. 9000 erreichen können. Wichtig ist dies allerdings für den Zeitstempel. Dieser kann max. 65535 erreichen, was eine Messdauer von ca. $ \Delta t = 60 [s]$ entspricht. Für die grundsätzliche Fortbewegung ist es ausreichend, für ganze Bewegungstasks (z.B. geskriptes Inlineskaten) jedoch nicht.

